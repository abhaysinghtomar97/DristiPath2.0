{% extends "base.html" %}
{% block title %}Home — Real-Time Public Transport Tracking{% endblock %}
{% block head_extra %}
<style>
  /* Hero */
  .hero { position: relative; min-height: calc(100vh - 60px); display:grid; place-items:center; overflow:hidden; }
  .hero img.bg { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; filter: brightness(0.45); }
  .hero .content { position:relative; text-align:center; max-width: 900px; padding: 28px; }
  .hero h1 { font-size: 42px; margin: 0 0 10px 0; }
  .hero p { color: var(--muted); margin: 0 0 18px 0; }
  .cta-row { display:flex; justify-content:center; gap:10px; }
  .btn.big { padding: 14px 22px; font-size: 16px; border-radius: 12px; }

  /* 3D canvas band */
  .orb-band { position: relative; height: 260px; display:grid; place-items:center; overflow:hidden; border-top:1px solid var(--border); border-bottom:1px solid var(--border); background: radial-gradient(closest-side, rgba(124,58,237,0.15), rgba(0,0,0,0)); }
  #orbCanvas { width: 100%; height: 100%; display:block; }

  /* Features */
  .features-wrap { max-width: 1200px; margin: 26px auto; padding: 0 18px; }
  .features-grid { display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 14px; }
  .feature-card { background: var(--panel); border:1px solid var(--border); border-radius: 16px; padding: 16px; box-shadow: var(--shadow); }
  .feature-card:hover { transform: none; }
  .feature-card h3 { margin:0 0 6px 0; }
  .feature-card p { color: var(--muted); }

  /* FAQ */
  .faq { max-width: 1000px; margin: 30px auto; padding: 0 18px; }
  .faq details { background: var(--panel); border:1px solid var(--border); border-radius: 12px; padding: 12px 16px; margin: 8px 0; }
  .faq summary { cursor: pointer; font-weight: 700; }
  .footer { text-align: center; color: var(--muted); padding: 20px; border-top:1px solid var(--border); margin-top: 30px; }

  @media (max-width: 980px){ .features-grid { grid-template-columns: repeat(2, minmax(0,1fr)); } }
  @media (max-width: 640px){ .features-grid { grid-template-columns: 1fr; } .hero h1 { font-size: 32px; } }
</style>
{% endblock %}
{% block content %}
  <section class="hero">
    <img class="bg" src="https://images.unsplash.com/photo-1509228627152-72ae9ae6848d?auto=format&fit=crop&w=1600&q=80" alt="hero" />
    <div class="content">
      <h1>Real-time public transport, made simple</h1>
      <p>Track buses, metros and more. Search by route or ID. See delays at a glance — in dark or light mode.</p>
      <div class="cta-row">
        <button class="btn big" onclick="location.href='/select/'">Get Started</button>
        <a class="btn big" style="background:linear-gradient(135deg,var(--accent-2),#16a34a)" href="/user/">Try Demo</a>
      </div>
    </div>
  </section>

  <div class="orb-band">
    <canvas id="orbCanvas"></canvas>
  </div>

  <div class="features-wrap">
    <div class="features-grid">
      <div class="feature-card" data-tilt>
        <h3>Nearest Vehicles</h3>
        <p>Instantly find the closest options around you with live locations.</p>
      </div>
      <div class="feature-card" data-tilt>
        <h3>Powerful Search</h3>
        <p>Search by vehicle ID, route, or type. Filter results in one click.</p>
      </div>
      <div class="feature-card" data-tilt>
        <h3>Delay Insights</h3>
        <p>Automatic delay checks flag anything offline or lagging updates.</p>
      </div>
      <div class="feature-card" data-tilt>
        <h3>Admin Tools</h3>
        <p>Manage vehicles and routes — analytics tailored per admin.</p>
      </div>
      <div class="feature-card" data-tilt>
        <h3>Dark / Light</h3>
        <p>Switch themes seamlessly. Your preference is remembered.</p>
      </div>
      <div class="feature-card" data-tilt>
        <h3>Export & Share</h3>
        <p>Export your lists to CSV and share snapshots with your team.</p>
      </div>
    </div>
  </div>

  <div class="faq">
    <h2>FAQs</h2>
    <details open>
      <summary>Is my location required?</summary>
      <p>It’s optional. Enabling it improves nearby results and map centering.</p>
    </details>
    <details>
      <summary>Do I need an account?</summary>
      <p>No for viewing; admins need a staff account to manage vehicles.</p>
    </details>
    <details>
      <summary>Which cities are supported?</summary>
      <p>The demo uses generic data. You can seed your own routes and vehicles.</p>
    </details>
  </div>

  <div class="footer">© <span id="y"></span> DristiPath</div>
{% endblock %}
{% block scripts %}
<script>
  document.getElementById('y').textContent = new Date().getFullYear();
  // Subtle static gradient background for the orb band (no heavy animation)
  (function(){
    const el = document.getElementById('orbCanvas');
    if(!el) return;
    const ctx = el.getContext('2d');
    function draw(){ const w=el.width=el.offsetWidth, h=el.height=el.offsetHeight; const g=ctx.createRadialGradient(w/2,h/2,10,w/2,h/2,Math.max(w,h)/2); g.addColorStop(0,'rgba(124,58,237,0.35)'); g.addColorStop(0.6,'rgba(34,197,94,0.18)'); g.addColorStop(1,'rgba(0,0,0,0)'); ctx.clearRect(0,0,w,h); ctx.fillStyle=g; ctx.fillRect(0,0,w,h); }
    window.addEventListener('resize', draw); draw();
  })();
</script>
{% endblock %}

