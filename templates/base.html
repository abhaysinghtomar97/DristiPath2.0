<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Real-Time Public Transport Tracking{% endblock %}</title>
  <style>
    /* Global theme tokens â€“ matched with admin dashboard */
    :root{
      --bg:#0b1020;
      --panel:#0f1526;
      --card:#0d1426;
      --text:#e5e7eb;
      --muted:#9aa4b2;
      --accent:#7c3aed;
      --accent-2:#22c55e;
      --border:#20293a;
      --shadow: 0 8px 24px rgba(0,0,0,0.35);
    }
    [data-theme="light"]{
      --bg:#f7f8fc;
      --panel:#ffffff;
      --card:#ffffff;
      --text:#0b1020;
      --muted:#4b5563;
      --accent:#7c3aed;
      --accent-2:#16a34a;
      --border:#e5e7eb;
      --shadow: 0 8px 16px rgba(0,0,0,0.08);
    }

    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu; background: var(--bg); color: var(--text); }

    /* Global navbar */
    .navbar { position: sticky; top:0; z-index:100; background: linear-gradient(180deg, var(--panel) 0%, rgba(0,0,0,0) 100%); border-bottom: 1px solid var(--border); color: var(--text); padding:14px 16px; display:flex; justify-content:space-between; align-items:center; backdrop-filter: blur(8px); }
    .brand { display:flex; gap:10px; align-items:center; font-weight:800; letter-spacing:.2px; }
    .brand .dot { width:10px; height:10px; border-radius:50%; background: var(--accent); box-shadow:0 0 0 3px rgba(124,58,237,0.25); }
    .nav-links { display:flex; gap:8px; align-items:center; }
    .nav-link { color: var(--text); text-decoration:none; padding:8px 10px; border-radius:10px; border:1px solid transparent; }
    .nav-link:hover { background: rgba(124,58,237,0.12); border-color: var(--border); }
    .theme-toggle { cursor:pointer; padding:6px 10px; border-radius:10px; border:1px solid var(--border); background: rgba(124,58,237,0.12); color:var(--text); }

    /* Generic containers */
    .container { max-width: 1200px; margin:0 auto; padding: 18px; }
    .panel { background: var(--panel); border:1px solid var(--border); border-radius: 16px; padding: 16px; box-shadow: var(--shadow); }
    .btn { background: linear-gradient(135deg, var(--accent), #4f46e5); color: #fff; border: none; border-radius: 10px; padding: 10px 14px; cursor: pointer; }
    .btn:hover { filter: brightness(1.06); }
    a { color: #a78bfa; }
  </style>
  {% block head_extra %}{% endblock %}
</head>
<body>
  <div class="navbar">
    <div class="brand"><span class="dot"></span> <span>DristiPath</span></div>
    <div class="nav-links">
      <a class="nav-link" href="/">Home</a>
      <a class="nav-link" href="/select/">Select</a>
      <a class="nav-link" href="/user/">User Dashboard</a>
      <a class="nav-link" href="/auth/?type=admin">Admin</a>
      <button id="themeToggle" class="theme-toggle" title="Toggle theme">Dark</button>
    </div>
  </div>

  {% block content %} {% endblock %}

  <script>
    // Site-wide theme persistence
    const applyTheme = (t)=>{ document.body.setAttribute('data-theme', t); const b=document.getElementById('themeToggle'); if(b){ b.textContent = t==='dark' ? 'Dark' : 'Light'; } localStorage.setItem('site-theme', t); };
    const saved = localStorage.getItem('site-theme') || 'dark';
    applyTheme(saved);
    const btn = document.getElementById('themeToggle');
    if (btn) btn.onclick = ()=> applyTheme(document.body.getAttribute('data-theme')==='dark' ? 'light' : 'dark');
  </script>

  {% block scripts %}{% endblock %}
</body>
</html>

